<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Design - embEDUx Project</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../index.html">embEDUx Project</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Usage <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../usage/usage/index.html">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/common/build-monitoring/index.html">Common/Build Monitoring</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/uboot/index.html">Uboot</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/linux/index.html">Linux</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/rootfs/index.html">Rootfs</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/rootfs/advanced/run-containers/index.html">Rootfs/Advanced/Run Containers</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/rootfs/configuration.yml/index.html">Rootfs/Configuration.Yml</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/misc/index.html">Misc</a>
                        </li>
                    
                        <li >
                            <a href="../../usage/flashtool/index.html">Flashtool</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../setup/setup/index.html">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/repositories/index.html">Repositories</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/adminstation/index.html">Adminstation</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/buildserver/index.html">Buildserver</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/buildserver/buildmaster/index.html">Buildserver/Buildmaster</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/buildserver/buildslaves/index.html">Buildserver/Buildslaves</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/buildserver/customize-buildslaves/index.html">Buildserver/Customize Buildslaves</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/buildserver/customize-supported-platforms/index.html">Buildserver/Customize Supported Platforms</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/post-install/toolchains/index.html">Post Install/Toolchains</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/post-install/user-documentation/index.html">Post Install/User Documentation</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/workstation/flashtool/index.html">Workstation/Flashtool</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/workstation/development/flashtool/index.html">Workstation/Development/Flashtool</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/examples/user-documentation-DEMO/index.html">Examples/User Documentation Demo</a>
                        </li>
                    
                        <li >
                            <a href="../../setup/examples/user-documentation-HTWG/index.html">Examples/User Documentation Htwg</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Background <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../background/index.html">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../buildserver/index.html">Buildserver</a>
                        </li>
                    
                        <li >
                            <a href="../requirements/index.html">Requirements</a>
                        </li>
                    
                        <li class="active">
                            <a href="index.html">Design</a>
                        </li>
                    
                        <li >
                            <a href="architecture/index.html">Design/Architecture</a>
                        </li>
                    
                        <li >
                            <a href="bootloader/index.html">Design/Bootloader</a>
                        </li>
                    
                        <li >
                            <a href="continuous-integration/index.html">Design/Continuous Integration</a>
                        </li>
                    
                        <li >
                            <a href="flashtool/index.html">Design/Flashtool</a>
                        </li>
                    
                        <li >
                            <a href="linux/index.html">Design/Linux</a>
                        </li>
                    
                        <li >
                            <a href="misc/index.html">Design/Misc</a>
                        </li>
                    
                        <li >
                            <a href="repositories-and-branches/index.html">Design/Repositories And Branches</a>
                        </li>
                    
                        <li >
                            <a href="rootfs/index.html">Design/Rootfs</a>
                        </li>
                    
                        <li >
                            <a href="toolchain/index.html">Design/Toolchain</a>
                        </li>
                    
                        <li >
                            <a href="../evaluation/index.html">Evaluation</a>
                        </li>
                    
                        <li >
                            <a href="../evaluation/continuous-integration/index.html">Evaluation/Continuous Integration</a>
                        </li>
                    
                        <li >
                            <a href="../evaluation/flashtool/index.html">Evaluation/Flashtool</a>
                        </li>
                    
                        <li >
                            <a href="../evaluation/rootfs/index.html">Evaluation/Rootfs</a>
                        </li>
                    
                        <li >
                            <a href="../evaluation/yocto-project/index.html">Evaluation/Yocto Project</a>
                        </li>
                    
                        <li >
                            <a href="../buildmaster/index.html">Buildmaster</a>
                        </li>
                    
                        <li >
                            <a href="../buildslaves/index.html">Buildslaves</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/flashtool/index.html">Implementation/Flashtool</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/linux/index.html">Implementation/Linux</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/misc/index.html">Implementation/Misc</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/repositories-and-branches/index.html">Implementation/Repositories And Branches</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/rootfs/index.html">Implementation/Rootfs</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/toolchains/index.html">Implementation/Toolchains</a>
                        </li>
                    
                        <li >
                            <a href="../implementation/uboot/index.html">Implementation/Uboot</a>
                        </li>
                    
                        <li >
                            <a href="../terminology/index.html">Terminology</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Troubleshooting <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../troubleshooting/troubleshooting/index.html">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../../troubleshooting/entering-build-environment/index.html">Entering Build Environment</a>
                        </li>
                    
                        <li >
                            <a href="../../troubleshooting/local-testing/index.html">Local Testing</a>
                        </li>
                    
                        <li >
                            <a href="../../troubleshooting/rootfs/entering-build-environment/index.html">Rootfs/Entering Build Environment</a>
                        </li>
                    
                        <li >
                            <a href="../../troubleshooting/rootfs/monitoring-package-installation/index.html">Rootfs/Monitoring Package Installation</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../support/contact-team/index.html">Contact Team</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../requirements/index.html">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="architecture/index.html">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#design">Design</a></li>
        
    
        <li class="main "><a href="#comparison-with-similar-projects">Comparison With Similar Projects</a></li>
        
    
        <li class="main "><a href="#product-specification-storage-units">Product-Specification Storage Units</a></li>
        
            <li><a href="#repository-format">Repository Format</a></li>
        
    
        <li class="main "><a href="#product-requirement-analysis">Product Requirement Analysis</a></li>
        
    
        <li class="main "><a href="#portability">Portability</a></li>
        
            <li><a href="#virtualization-and-container-technologies">Virtualization and Container Technologies</a></li>
        
            <li><a href="#split-functionality-into-containers">Split Functionality Into Containers</a></li>
        
            <li><a href="#container-management-software">Container Management Software</a></li>
        
    
        <li class="main "><a href="#setup-process">Setup Process</a></li>
        
            <li><a href="#setup-parameters">Setup Parameters</a></li>
        
            <li><a href="#automation">Automation</a></li>
        
    
        <li class="main "><a href="#extensibility">Extensibility</a></li>
        
    
        <li class="main "><a href="#overall-system-design">Overall System Design</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="design">Design</h1>
<p><strong>(work in progress)</strong></p>
<p>The design for the <strong>embEDUx</strong> system must be created by carefully analyzing the
<a href="../requirements/index.html">project requirements</a>. These include a wide variety of
necessary configuration options, which in turn requires a configurable build
system. The build system must be able to build the following software</p>
<ul>
<li>Linux Kernel</li>
<li>Bootloader</li>
<li>RootFS containing the system and user-space application, while the</li>
</ul>
<p>while build configuration must be user providable for each build.  These
software that is built by the build system will be referred as <strong><em>products</em></strong>
within the further documentation.</p>
<h1 id="comparison-with-similar-projects">Comparison With Similar Projects</h1>
<p>The idea of building a complete Linux-based system for a specific platform is
not new. Therefore it is of no surprise, that by the time of designing
<strong>embEDUx</strong>, there are several open source projects that need to be considered
as a base for <strong>embEDUx</strong>. The following projects have feature specifications
could possibly fulfill the requirements that were previously defined. The
projects will be evaluated in order to find out if they suitable as base
projects.</p>
<ul>
<li>
<p>Embedian - unfortunately, the project was officially retired as of July 2014 </p>
<p>A debian based distribution targetted for embedded systems</p>
</li>
<li>
<p>Buildroot</p>
<p>A collection of bash scripts in order to build toolchains, Linux-kernels,
bootloaders and root filesystems. It can be configured via an ncurses-based
menu.</p>
</li>
<li>
<p>OpenEmbedded</p>
</li>
<li>
<p>Yocto Project
    TODO lars</p>
</li>
</ul>
<h1 id="product-specification-storage-units">Product-Specification Storage Units</h1>
<p>It must be possible to build the products independently from each other.
Therefore, each product should be managed in a separate storage unit which will
be referred as a <em>repository</em> from this point on. Additionally each platform
needs to have its own identifiable storage unit within the <em>respository</em>. This
storage unit will be referred as <em>branch</em> from this point on.</p>
<h2 id="repository-format">Repository Format</h2>
<p>Configuration files and specification files are most certainly provided by the
user as text files. For this purpose, a version control system should be used in
order to have a history of build changes and allow easier handling of the
repositories.</p>
<h1 id="product-requirement-analysis">Product Requirement Analysis</h1>
<p>The build process and the configuration options of each product must fulfill the
requirements of the corresponding product. The requirements chapter lists
different requirements for each product, which must therefore be analyzed
separately.</p>
<h1 id="portability">Portability</h1>
<p>In order to have a portable build system, all components should live and run in
systems that are separated from the buildserver's host system. Possible
technologies for this are either Virtual Machines or Linux Containers.</p>
<h2 id="virtualization-and-container-technologies">Virtualization and Container Technologies</h2>
<ul>
<li>
<p>Virtual Machines are completely abstracted from the host system's hardware.
  They run on a so-called Hypervisor, which simulates a complete machine for the
  target system. The target system runs it's own kernel, and needs to boot and
  initialize an Operating System from scratch. Security is considered very high,
  since the Hypervisor has full control over soft- and hardware-resources that
  are passed to the guest system.   The architecture of an operating system
  inside a virtual machine can be completely different to the host architecture,
  and thus is highly portable.  Depending on available acceleration
  technologies, the performance of the virtual CPU, RAM and disk can suffer
  significantly.</p>
</li>
<li>
<p>Linux Containers utilize a feature in recent Linux Kernels which allow
  separating processes from each other. This includes the separation of host and
  contained processes, as well as different contained processes from each other.
  These contained processes can be an initialization processes to boot a
  different Linux System on the running host Linux kernel, or simply any other
  application available. Recently there has been a lot of development and
  activity on Linux Containers in the community, namely because of a software
  called Docker.  Security is highly dependent on the implementation of the
  process separating that happens in the host kernel.   The host kernel must
  obviously be able to run the contained application.  Therefore, the
  application must either be in the host's native or compatible executable
  format, or the system needs an emulator to run the foreign architecture. The
  performance for contained processes does not differ significantly compared to
  a regular running process. This is not entirely true for executables that
  require emulation because the CPU instructions must be translated before they
  can be run.</p>
</li>
</ul>
<p>In favor of speed (see <a href="http://domino.research.ibm.com/library/cyberdig.nsf/papers/0929052195DD819C85257D2300681E7B/$File/rc25482.pdf">Comparison of VM and Linux
Containers</a>,)
container technologies should be chosen as the base for the buildsystem. In
environments where security is a high requirement, the containers can live
inside a virtual machine, but that is beyond the design for the buildsystem
itself.</p>
<h2 id="split-functionality-into-containers">Split Functionality Into Containers</h2>
<p>Containers are relatively cheap entities for the system. This allows the
buildsystem to be split into several containers for the different parts of the
buildsystem.</p>
<h2 id="container-management-software">Container Management Software</h2>
<p>The choice of the container management software still needs to be evaluated, but in favor
of popularity Docker should be the main candidate.</p>
<h1 id="setup-process">Setup Process</h1>
<p>The buildserver will undoubtedly be a complex structure of software components.
To make the setup as easy as possible it should be automated as far as possible.</p>
<h2 id="setup-parameters">Setup Parameters</h2>
<p>Setup parameters are essential to the configuration of the buildserver.</p>
<ul>
<li>
<p>Buildserver Target Machine</p>
<p>The target machine shall by default run all containers that belong to the
buildsystem</p>
</li>
<li>
<p>Target Platform and Architectures</p>
<p>The platform names and their corresponding architecture.
The architectures will be supported as build targets. </p>
</li>
</ul>
<h2 id="automation">Automation</h2>
<p>Any scripting language can be used and there's no chosen preference as of this
point.
TODO Stefan</p>
<h1 id="extensibility">Extensibility</h1>
<p>Adding support for additional hardware platforms must be simple. The user should
not be forced to have a complete understanding of the <strong>embEDUx</strong> build system
to be able to add his platform. However the complexity of the system, requires
the user to have a fair overview of the <strong>embEDUx</strong> components and how these
work together in order to build the products.</p>
<h1 id="overall-system-design">Overall System Design</h1>
<p><a href="../../background/design/img/design.png"><img alt="" src="../../background/design/img/design.png" /></a></p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>